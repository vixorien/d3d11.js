<!DOCTYPE html>
<html>
<head>
	<script src="../build/d3d11.js"></script>
</head>
<body>
	<h1>D3D11.js - API Initialization</h1>

	<canvas id="viewport" width="800" height="600"></canvas>

	<script>

		// Start by creating ID3D11Device object, which is in charge
		// of creating resources (textures, buffers, etc.) for D3D11.
		//  - It requires a canvas HTML element that will act as its "graphics adapter"
		let device = D3D11CreateDevice(document.getElementById("viewport"));

		// Once a device has been created, we can get an ID3D11DeviceContext
		// object from it, which contains rendering and pipeline functions
		let context = device.GetImmediateContext();

		// Lastly, we create an IDXGISwapChain which houses the back buffer
		// and allows us to finalize a single frame of rendering.
		//  - This requires a swap chain description, which describes the
		//    size of the back buffer for rendering and its color format
		//  - The size will most likely be the same as the canvas, but 
		//    doesn't have to be if you intend to render at a different resolution
		const swapDesc = new DXGI_SWAP_CHAIN_DESC(800, 600, DXGI_FORMAT_R8G8B8A8_UNORM);
		let swapChain = DXGICreateSwapChain(device, swapDesc);

		// Present the frame to the user
		swapChain.Present();

	</script>
</body>
</html>

